---
layout: default
permalink: /blog/
title: Blog
description: "Writing from the studio—process notes, series updates, exhibitions, and reflections on calligraphy and painting."
body_class: blog
css: /assets/css/blog.css
---

<section class="blog-header">
  <div class="wrapper">
    <span class="tag">Blog</span>
    <h1 id="blog-heading">Writing from the studio</h1>
    <p class="muted lead">
      Process notes, series updates, and reflections on painting, calligraphy, and making work that lasts.
    </p>

    <div class="blog-cta">
      <a class="btn" href="{{ '/portfolio/' | relative_url }}">Shop available work</a>
      <a class="btn ghost" href="mailto:{{ site.email }}?subject=Commission%20inquiry">Commission inquiry</a>
    </div>
  </div>
</section>

<section class="blog-controls" aria-labelledby="blog-heading">
  <div class="wrapper">
    <div class="controls-row card">
      <div class="control">
        <label for="blog-search" class="sr-only">Search posts</label>
        <input
          id="blog-search"
          type="search"
          placeholder="Search posts…"
          autocomplete="off"
          inputmode="search"
        />
      </div>

      <div class="control">
        <label for="category-filter" class="sr-only">Filter by category</label>
        <select id="category-filter">
          <option value="">All Categories</option>
          {% assign cats = site.posts | map: 'categories' | flatten | uniq | sort %}
          {% for cat in cats %}
            <option value="{{ cat | slugify }}">{{ cat }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="control control--right">
        <button class="btn ghost" id="clear-filters" type="button">Clear</button>
      </div>
    </div>

    <p class="muted small results-line">
      <span id="results-count"></span>
    </p>
  </div>
</section>

<section class="blog-list">
  <div class="wrapper">
    <div class="post-grid" id="post-list">
      {% assign posts_source = paginator.posts | default: site.posts %}
      {% for post in posts_source %}

        {% capture cat_slugs %}
          {% for c in post.categories %}
            {{ c | slugify }}{% unless forloop.last %} {% endunless %}
          {% endfor %}
        {% endcapture %}

        {% capture tag_slugs %}
          {% for t in post.tags %}
            {{ t | slugify }}{% unless forloop.last %} {% endunless %}
          {% endfor %}
        {% endcapture %}

        <article
          class="post-card card"
          data-title="{{ post.title | downcase | escape }}"
          data-categories="{{ cat_slugs | strip | downcase }}"
          data-tags="{{ tag_slugs | strip | downcase }}"
        >
          {% if post.image %}
            <a class="post-image-link" href="{{ post.url | relative_url }}">
              <img
                src="{{ post.image | relative_url }}"
                alt="{{ post.title }} featured image"
                class="post-image"
                loading="lazy"
                decoding="async"
              />
            </a>
          {% endif %}

          <div class="post-body">
            <h2 class="post-title">
              <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            </h2>

            <div class="post-meta muted">
              <time datetime="{{ post.date | date_to_xmlschema }}">
                {{ post.date | date: "%B %-d, %Y" }}
              </time>

              {% if post.categories and post.categories.size > 0 %}
                <span class="meta-sep">·</span>
                <span class="post-cats">
                  {% for cat in post.categories %}
                    <a
                      class="chip"
                      href="/blog/?category={{ cat | slugify }}"
                      data-chip-category="{{ cat | slugify }}"
                    >
                      {{ cat }}
                    </a>
                  {% endfor %}
                </span>
              {% endif %}
            </div>

            <p class="excerpt">
              {{ post.excerpt | strip_html | truncatewords: 30 }}
            </p>

            <div class="post-actions">
              <a href="{{ post.url | relative_url }}" class="btn btn-small">Read more →</a>
              <a href="/contact.html" class="btn ghost btn-small">Inquire</a>
            </div>

            {% if post.tags and post.tags.size > 0 %}
              <div class="post-tags">
                {% for tag in post.tags %}
                  <a
                    class="tag-chip"
                    href="/blog/?tag={{ tag | slugify }}"
                    data-chip-tag="{{ tag | slugify }}"
                  >
                    #{{ tag }}
                  </a>
                {% endfor %}
              </div>
            {% endif %}
          </div>
        </article>
      {% endfor %}
    </div>

    <p id="no-results" class="muted no-results" hidden>
      No posts match your filters. Try clearing filters or searching something else.
    </p>

    <!-- Pagination -->
    {% if paginator %}
      <nav class="pagination" role="navigation" aria-label="Pagination">
        {% if paginator.previous_page %}
          <a href="{{ paginator.previous_page_path | relative_url }}" class="btn ghost btn-small">← Newer</a>
        {% endif %}
        <span class="muted small page-number">Page {{ paginator.page }} of {{ paginator.total_pages }}</span>
        {% if paginator.next_page %}
          <a href="{{ paginator.next_page_path | relative_url }}" class="btn ghost btn-small">Older →</a>
        {% endif %}
      </nav>
    {% endif %}
  </div>
</section>

<script>
  (function () {
    const list = document.getElementById("post-list");
    const posts = Array.from(list.querySelectorAll(".post-card"));

    const search = document.getElementById("blog-search");
    const select = document.getElementById("category-filter");
    const clearBtn = document.getElementById("clear-filters");

    const resultsCount = document.getElementById("results-count");
    const noResults = document.getElementById("no-results");

    function getParams() {
      const params = new URLSearchParams(window.location.search);
      return {
        category: (params.get("category") || "").toLowerCase(),
        tag: (params.get("tag") || "").toLowerCase(),
        q: (params.get("q") || "").toLowerCase(),
      };
    }

    function setParams({ category, tag, q }) {
      const params = new URLSearchParams();
      if (category) params.set("category", category);
      if (tag) params.set("tag", tag);
      if (q) params.set("q", q);
      const next = `${window.location.pathname}${params.toString() ? "?" + params.toString() : ""}`;
      window.history.replaceState({}, "", next);
    }

    function normalize(str) {
      return (str || "").toLowerCase().trim();
    }

    function matches(post, { category, tag, q }) {
      const title = post.dataset.title || "";
      const cats = post.dataset.categories || "";
      const tags = post.dataset.tags || "";
      const text = (post.textContent || "").toLowerCase();

      if (category && !cats.split(/\s+/).includes(category)) return false;
      if (tag && !tags.split(/\s+/).includes(tag)) return false;

      if (q) {
        const haystack = `${title} ${cats} ${tags} ${text}`;
        if (!haystack.includes(q)) return false;
      }

      return true;
    }

    function applyFilters(pushUrl = true) {
      const category = normalize(select.value);
      const q = normalize(search.value);

      // tag comes only from URL or tag chips
      const params = getParams();
      const tag = normalize(params.tag);

      let visible = 0;
      posts.forEach((post) => {
        const show = matches(post, { category, tag, q });
        post.style.display = show ? "" : "none";
        if (show) visible++;
      });

      resultsCount.textContent = `${visible} post${visible === 1 ? "" : "s"} shown`;
      noResults.hidden = visible !== 0;

      if (pushUrl) setParams({ category, tag, q });
    }

    function clearAll() {
      search.value = "";
      select.value = "";
      setParams({ category: "", tag: "", q: "" });
      applyFilters(false);
    }

    // Initialize from URL params
    const initial = getParams();
    if (initial.q) search.value = initial.q;
    if (initial.category) select.value = initial.category;

    // If URL has category that isn't in the select (rare), leave it in URL filtering only
    // (matching still works because posts have category slugs).
    applyFilters(false);

    // Wire controls
    search.addEventListener("input", () => applyFilters(true));
    select.addEventListener("change", () => {
      // changing category clears tag param (so the UI behaves predictably)
      const q = normalize(search.value);
      const category = normalize(select.value);
      setParams({ category, tag: "", q });
      applyFilters(false);
    });
    clearBtn.addEventListener("click", clearAll);

    // Clicking category/tag chips updates URL and reruns filter
    document.addEventListener("click", (e) => {
      const catChip = e.target.closest("[data-chip-category]");
      const tagChip = e.target.closest("[data-chip-tag]");
      if (!catChip && !tagChip) return;

      e.preventDefault();

      const q = normalize(search.value);
      if (catChip) {
        const category = normalize(catChip.dataset.chipCategory);
        select.value = category;
        setParams({ category, tag: "", q });
        applyFilters(false);
      }

      if (tagChip) {
        const tag = normalize(tagChip.dataset.chipTag);
        const category = normalize(select.value);
        setParams({ category, tag, q });
        applyFilters(false);
      }
    });
  })();
</script>
